{% extends "base.html.jinja" %}

{% block title %}Archive{% endblock title %}

{% block content %}
<h1 class="text-center">{{self.title()}}</h1>
{% for year, datestamps in datestamps | groupby("year") | reverse %}
<article>
    <div class="box box-variant">
        <h2 class="text-center">{{year | full_year}}:</h2><br>
        {% for month, datestamps in datestamps | groupby("month") %}
        <section class="archive-month">
            <p>{{month | calendar_month}}</p>
            <p>
                {% for datestamp in datestamps %}
                <a href="{{url_for("view", datestamp = datestamp.values() | join)}}">{{datestamp["week"]}}</a>
                {{-" /" if not loop.last}}
                {% endfor %}
            </p>
        </section>
        {% endfor %}
    </div>
</article>
{% endfor %}
{% endblock content %}
