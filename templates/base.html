{% macro paginate(rows, endpoint, current_page = 1, per_page = 20, seek = 4) %}
{% set pages = rows|batch(per_page)|list %}
{% for row in pages[current_page - 1] %}
{{ caller(row) }}
{%- endfor %}
<ol>
    {% for i in range([1, current_page - seek]|max, [pages|length, current_page + seek]|min + 1) %}
    <li><a href="{{ url_for(endpoint, page = i) }}">{{ i }}</a></li>
    {% endfor %}
</ol>
{% endmacro %}
<!doctype html>
<html lang="en">
    <head>
        {% block head %}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
        <link rel="stylesheet" href="{{ url_for("static", filename="reset.css") }}"/>
        <link rel="stylesheet" href="{{ url_for("static", filename="style.css") }}"/>
        <title>{% block title %}{% endblock title %} | Recap</title>
        {% endblock %}
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="{{ url_for("index") }}">home</a></li>
                    <li><a href="{{ url_for("archive") }}">archive</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <section id="content">
                {% filter indent(width = 16, first = True) %}
                {% block content %}
                {% endblock content %}
                {% endfilter %}
            </section>
        </main>
    </body>
</html>
